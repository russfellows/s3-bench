# Test DELETE and STAT pattern resolution
# Validates that glob patterns work correctly for all operation types
duration: "5s"
concurrency: 32
target: "file:///tmp/sai3bench-pattern-test/"

prepare:
  ensure_objects:
    - base_uri: "file:///tmp/sai3bench-pattern-test/data/"
      count: 100
      min_size: 102400
      max_size: 102400
      fill: random
  cleanup: false  # We'll test manual cleanup with DELETE operations

workload:
  # Test GET with glob pattern
  - op: get
    path: "data/prepared-*.dat"
    weight: 40
  
  # Test STAT with glob pattern  
  - op: stat
    path: "data/prepared-*.dat"
    weight: 30
  
  # Test DELETE with glob pattern
  - op: delete
    path: "data/prepared-*.dat"
    weight: 20
  
  # Test PUT to create new objects
  - op: put
    path: "data/new-"
    object_size: 51200
    weight: 10
