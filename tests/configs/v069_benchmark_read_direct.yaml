# v0.6.9 Benchmark: Read 1TB using direct:// (O_DIRECT with chunked reads)
# Tests v0.6.9's new chunked read optimization for direct I/O
# Usage: sai3-bench run --config v069_benchmark_read_direct.yaml
#
# This reads the 262,144 files generated by v069_benchmark_prepare.yaml
# using direct I/O (direct://) which bypasses the OS page cache.
# 
# v0.6.9 Enhancement: Chunked reads with 4 MiB blocks for files >= 8 MiB
# Since our files are exactly 4 MiB, they'll use whole-file reads,
# but this tests the direct:// backend with optimal buffer pool management.

target: "direct:///tmp/sai3bench-v069-1tb/"
duration: 300s  # 5 minutes - adjust based on expected throughput
concurrency: 64  # Match typical async I/O depth

workload:
  - op: get
    path: "data/*"  # Read all generated files
    weight: 100

# No prepare or cleanup - files should already exist from prepare step
