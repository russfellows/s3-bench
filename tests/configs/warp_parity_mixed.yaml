# Warp-style mixed workload configuration
# This demonstrates io-bench's Warp parity features (Phase 1: Prepare)

duration: 10s       # 10 second test for quick validation
concurrency: 20     # Match Warp's default

# Prepare step: ensure 1000 objects exist before testing
prepare:
  ensure_objects:
    - base_uri: "file:///tmp/io-bench-warp-test/mixed/"
      count: 1000
      min_size: 1048576  # 1 MiB
      max_size: 1048576
      fill: zero
  cleanup: false  # Keep objects for repeated runs (set to true for cleanup)

# Base target (makes workload paths relative)
target: "file:///tmp/io-bench-warp-test/"

# Warp-style mixed workload
workload:
  - weight: 60
    op: get
    path: "mixed/*"  # Relative to target - glob supported for GET
    
  - weight: 30
    op: put
    path: "mixed/put-*"
    object_size: 1048576
    
  - weight: 10
    op: list
    path: "mixed/"
