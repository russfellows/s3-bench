# v0.6.9 Benchmark: Prepare 1TB of 4MB files using direct I/O
# This generates ~262,144 files (1TB / 4MB) for subsequent read testing
# Usage: sai3-bench run --config v069_benchmark_prepare.yaml

target: "direct:///tmp/sai3bench-v069-1tb/"
duration: 1s  # Minimal duration since we only do prepare phase
concurrency: 64  # High concurrency for faster generation

prepare:
  ensure_objects:
    - base_uri: "direct:///tmp/sai3bench-v069-1tb/data/"
      count: 262144  # 1TB / 4MB = 262,144 files
      size: 4194304  # 4 MB exactly (fixed size)
      fill: zero  # Zero-filled for fast writes
  
  cleanup: false  # DO NOT cleanup - we need these files for testing

workload:
  # Empty workload - we only want the prepare phase
  # Using minimal GET just to satisfy config requirements
  - op: get
    path: "data/object-000000"  # Just one object to satisfy parser
    weight: 100
